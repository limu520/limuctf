(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("klayjs"));else if(typeof define==="function"&&define.amd)define(["klayjs"],factory);else if(typeof exports==="object")exports["cytoscapeKlay"]=factory(require("klayjs"));else root["cytoscapeKlay"]=factory(root["$klay"])})(this,function(__WEBPACK_EXTERNAL_MODULE_4__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)}([function(module,exports,__webpack_require__){"use strict";var klay=__webpack_require__(4);var assign=__webpack_require__(1);var defaults=__webpack_require__(2);var klayNSLookup={addUnnecessaryBendpoints:"de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",alignment:"de.cau.cs.kieler.alignment",aspectRatio:"de.cau.cs.kieler.aspectRatio",borderSpacing:"borderSpacing",compactComponents:"de.cau.cs.kieler.klay.layered.components.compact",compactionStrategy:"de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",contentAlignment:"de.cau.cs.kieler.klay.layered.contentAlignment",crossingMinimization:"de.cau.cs.kieler.klay.layered.crossMin",cycleBreaking:"de.cau.cs.kieler.klay.layered.cycleBreaking",debugMode:"de.cau.cs.kieler.debugMode",direction:"de.cau.cs.kieler.direction",edgeLabelSideSelection:"de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",edgeRouting:"de.cau.cs.kieler.edgeRouting",edgeSpacingFactor:"de.cau.cs.kieler.klay.layered.edgeSpacingFactor",feedbackEdges:"de.cau.cs.kieler.klay.layered.feedBackEdges",fixedAlignment:"de.cau.cs.kieler.klay.layered.fixedAlignment",greedySwitchCrossingMinimization:"de.cau.cs.kieler.klay.layered.greedySwitch",hierarchyHandling:"de.cau.cs.kieler.hierarchyHandling",inLayerSpacingFactor:"de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",interactiveReferencePoint:"de.cau.cs.kieler.klay.layered.interactiveReferencePoint",layerConstraint:"de.cau.cs.kieler.klay.layered.layerConstraint",layoutHierarchy:"de.cau.cs.kieler.layoutHierarchy",linearSegmentsDeflectionDampening:"de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",mergeEdges:"de.cau.cs.kieler.klay.layered.mergeEdges",mergeHierarchyCrossingEdges:"de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",noLayout:"de.cau.cs.kieler.noLayout",nodeLabelPlacement:"de.cau.cs.kieler.nodeLabelPlacement",nodeLayering:"de.cau.cs.kieler.klay.layered.nodeLayering",nodePlacement:"de.cau.cs.kieler.klay.layered.nodePlace",portAlignment:"de.cau.cs.kieler.portAlignment",portAlignmentEastern:"de.cau.cs.kieler.portAlignment.east",portAlignmentNorth:"de.cau.cs.kieler.portAlignment.north",portAlignmentSouth:"de.cau.cs.kieler.portAlignment.south",portAlignmentWest:"de.cau.cs.kieler.portAlignment.west",portConstraints:"de.cau.cs.kieler.portConstraints",portLabelPlacement:"de.cau.cs.kieler.portLabelPlacement",portOffset:"de.cau.cs.kieler.offset",portSide:"de.cau.cs.kieler.portSide",portSpacing:"de.cau.cs.kieler.portSpacing",postCompaction:"de.cau.cs.kieler.klay.layered.postCompaction",priority:"de.cau.cs.kieler.priority",randomizationSeed:"de.cau.cs.kieler.randomSeed",routeSelfLoopInside:"de.cau.cs.kieler.selfLoopInside",separateConnectedComponents:"de.cau.cs.kieler.separateConnComp",sizeConstraint:"de.cau.cs.kieler.sizeConstraint",sizeOptions:"de.cau.cs.kieler.sizeOptions",spacing:"de.cau.cs.kieler.spacing",splineSelfLoopPlacement:"de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",thoroughness:"de.cau.cs.kieler.klay.layered.thoroughness",wideNodesOnMultipleLayers:"de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers"};var mapToKlayNS=function mapToKlayNS(klayOpts){var keys=Object.keys(klayOpts);var ret={};for(var i=0;i<keys.length;i++){var key=keys[i];var nsKey=klayNSLookup[key];var val=klayOpts[key];ret[nsKey]=val}return ret};var klayOverrides={interactiveReferencePoint:"CENTER"};var getPos=function getPos(ele){var parent=ele.parent();var k=ele.scratch("klay");var p={x:k.x,y:k.y};if(parent.nonempty()){var kp=parent.scratch("klay");p.x+=kp.x;p.y+=kp.y}return p};var makeNode=function makeNode(node,options){var dims=node.layoutDimensions(options);var padding=node.numericStyle("padding");var k={_cyEle:node,id:node.id(),padding:{top:padding,left:padding,bottom:padding,right:padding}};if(!node.isParent()){k.width=dims.w;k.height=dims.h}node.scratch("klay",k);return k};var makeEdge=function makeEdge(edge,options){var k={_cyEle:edge,id:edge.id(),source:edge.data("source"),target:edge.data("target"),properties:{}};var priority=options.priority(edge);if(priority!=null){k.properties.priority=priority}edge.scratch("klay",k);return k};var makeGraph=function makeGraph(nodes,edges,options){var klayNodes=[];var klayEdges=[];var klayEleLookup={};var graph={id:"root",children:[],edges:[]};for(var i=0;i<nodes.length;i++){var n=nodes[i];var k=makeNode(n,options);klayNodes.push(k);klayEleLookup[n.id()]=k}for(var _i=0;_i<edges.length;_i++){var e=edges[_i];var _k=makeEdge(e,options);klayEdges.push(_k);klayEleLookup[e.id()]=_k}for(var _i2=0;_i2<klayNodes.length;_i2++){var _k2=klayNodes[_i2];var _n=_k2._cyEle;if(!_n.isChild()){graph.children.push(_k2)}else{var parent=_n.parent();var parentK=klayEleLookup[parent.id()];var children=parentK.children=parentK.children||[];children.push(_k2)}}for(var _i3=0;_i3<klayEdges.length;_i3++){var _k3=klayEdges[_i3];var _e=_k3._cyEle;var parentSrc=_e.source().parent();var parentTgt=_e.target().parent();if(false){var kp=klayEleLookup[parentSrc.id()];kp.edges=kp.edges||[];kp.edges.push(_k3)}else{graph.edges.push(_k3)}}return graph};function Layout(options){var klayOptions=options.klay;this.options=assign({},defaults,options);this.options.klay=assign({},defaults.klay,klayOptions,klayOverrides)}Layout.prototype.run=function(){var layout=this;var options=this.options;var eles=options.eles;var nodes=eles.nodes();var edges=eles.edges();var graph=makeGraph(nodes,edges,options);klay.layout({graph:graph,options:mapToKlayNS(options.klay),success:function success(){},error:function error(_error){throw _error}});nodes.filter(function(n){return!n.isParent()}).layoutPositions(layout,options,getPos);return this};Layout.prototype.stop=function(){return this};Layout.prototype.destroy=function(){return this};module.exports=Layout},function(module,exports,__webpack_require__){"use strict";module.exports=Object.assign!=null?Object.assign.bind(Object):function(tgt){for(var _len=arguments.length,srcs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){srcs[_key-1]=arguments[_key]}srcs.filter(function(src){return src!=null}).forEach(function(src){Object.keys(src).forEach(function(k){return tgt[k]=src[k]})});return tgt}},function(module,exports,__webpack_require__){"use strict";var defaults={nodeDimensionsIncludeLabels:false,fit:true,padding:20,animate:false,animateFilter:function animateFilter(node,i){return true},animationDuration:500,animationEasing:undefined,transform:function transform(node,pos){return pos},ready:undefined,stop:undefined,klay:{addUnnecessaryBendpoints:false,aspectRatio:1.6,borderSpacing:20,compactComponents:false,crossingMinimization:"LAYER_SWEEP",cycleBreaking:"GREEDY",direction:"UNDEFINED",edgeRouting:"ORTHOGONAL",edgeSpacingFactor:.5,feedbackEdges:false,fixedAlignment:"NONE",inLayerSpacingFactor:1,layoutHierarchy:false,linearSegmentsDeflectionDampening:.3,mergeEdges:false,mergeHierarchyCrossingEdges:true,nodeLayering:"NETWORK_SIMPLEX",nodePlacement:"BRANDES_KOEPF",randomizationSeed:1,routeSelfLoopInside:false,separateConnectedComponents:true,spacing:20,thoroughness:7},priority:function priority(edge){return null}};module.exports=defaults},function(module,exports,__webpack_require__){"use strict";var impl=__webpack_require__(0);var register=function register(cytoscape){if(!cytoscape){return}cytoscape("layout","klay",impl)};if(typeof cytoscape!=="undefined"){register(cytoscape)}module.exports=register},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_4__}])});